<%= simple_form_for(@user) do |f| %>

  <div class='inputs'>
    <% generated_password = Devise.friendly_token.first(10) %>
    <% current_password = @user.password %>
    <%= f.input :first_name, :required => true %>
    <%= f.input :last_name, :required => true %>
    <%= f.input :email, :required => true, :autofocus => true %>
    <%= f.input :company_name, :required => true, :autofocus => true %>
    <%= f.input :preference, :required => false, :autofocus => true, :as => :select, :collection => [['SMS','1'],['Email','2'],['Both','3']], :value => '1' %>
    <% if current_page?( :action => 'new' ) %>
    
    <%= f.input :password, :readonly => true, :input_html => { :value => generated_password } %>
    <%= f.input :password_confirmation, :readonly => true, :input_html => { :value => generated_password } %>
    
  </div>

  <div class='actions'>
    <%= f.button :submit, "ADD CONTACT", :class => "red-button" %>
  <% else %>
  
  <div class='actions'>
    <%= f.button :submit, "EDIT CONTACT", :class => "red-button" %>
  <% end %>
  
    <%= button_to 'Cancel', '/', :class => "red-button" %>
  </div>
  
<% end %>